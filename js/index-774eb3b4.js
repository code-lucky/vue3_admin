import{l as e}from"./user-11de5852.js";import{_ as a,d as s,u as l,r as o,a as r,o as t,b as d,c as n,e as u,f as i,w as p,g as m,h as c,i as f,p as v,j as w,k as g,l as _,E as y}from"./index-bd778193.js";const k={class:"continer"},h={class:"content"},x=(e=>(v("data-v-61653f8a"),e=e(),w(),e))((()=>u("div",{class:"login-title"},"Login",-1))),V=g("登陆");var b=a(s({__name:"index",setup(a){const s=l(),v=o(),w=_(),g=r({userName:"",password:""}),b=r({userName:[{validator:(e,a,s)=>{if(""===a)s(new Error("用户名不能为空"));else{if(""!==g.userName){if(!v.value)return;v.value.validateField("checkPass",(()=>null))}s()}},trigger:"blur"}],password:[{validator:(e,a,s)=>{""===a?s(new Error("请输入密码")):a.length<6?s(new Error("密码不能小于6位")):s()},trigger:"blur"}]}),E=o("password"),N=()=>{E.value="password"===E.value?"text":"password"},j=a=>{a&&a.validate((a=>{if(!a)return!1;e(g).then((e=>{const a=e;console.log(a),200==a.code?(s.setUserInfo(a.data),y.success(a.message),w.push({path:"/"})):y.error(a.message)}))}))},C=e=>{13==e.keyCode&&j(v.value)};return t((()=>{window.addEventListener("keydown",C)})),d((()=>{window.removeEventListener("keydown",C,!1)})),(e,a)=>{const s=m("el-input"),l=m("el-form-item"),o=m("Hide"),r=m("View"),t=m("el-icon"),d=m("el-button"),w=m("el-form");return c(),n("div",k,[u("div",h,[x,i(w,{ref_key:"ruleFormRef",ref:v,model:g,rules:b,class:"content-form"},{default:p((()=>[i(l,{prop:"userName"},{default:p((()=>[i(s,{modelValue:g.userName,"onUpdate:modelValue":a[0]||(a[0]=e=>g.userName=e),type:"text",placeholder:"请输入用户名",autocomplete:"off"},null,8,["modelValue"])])),_:1}),i(l,{prop:"password",style:{"margin-top":"40px",position:"relative"}},{default:p((()=>[i(s,{modelValue:g.password,"onUpdate:modelValue":a[1]||(a[1]=e=>g.password=e),type:E.value,autocomplete:"off",placeholder:"请输入密码",maxlength:"60"},null,8,["modelValue","type"]),i(t,{size:18,class:"check_password",onClick:N},{default:p((()=>["password"==E.value?(c(),f(o,{key:0})):(c(),f(r,{key:1}))])),_:1})])),_:1}),i(l,null,{default:p((()=>[i(d,{type:"primary",onClick:a[2]||(a[2]=e=>j(v.value)),class:"content-btn"},{default:p((()=>[V])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-61653f8a"]]);export{b as default};

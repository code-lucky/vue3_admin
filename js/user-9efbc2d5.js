import{d as e,r as l,o as a,g as t,h as u,c as s,f as d,w as o,F as r,n as p,i as m,z as n,y as i,k as f,a as c,e as b,x as v}from"./index-bd74c780.js";import{f as _}from"./index-4742ef83.js";import{g as V}from"./user-4312aff0.js";import{g as y}from"./role-6966f1a3.js";const h={class:"continer"},N=f("新增"),w=f("取消"),U=f("更新"),g=f("取消"),k=e({__name:"user-module",props:{status:{type:String,default:""},roleList:{type:Object,default:[]},userInfo:{type:Object,default:{}}},emits:["addUser","cancel","editUser"],setup(e,{emit:f}){const c=e,b=l({userName:"",password:"",roleId:"",phoneNumber:"",status:!0}),v=l(""),_=c.roleList,V=()=>{f("cancel")};return a((()=>{})),(l,a)=>{const f=t("el-input"),c=t("el-form-item"),y=t("el-option"),k=t("el-select"),j=t("el-switch"),x=t("el-button"),L=t("el-form");return u(),s("div",h,[d(L,{model:b.value,"label-width":"120px"},{default:o((()=>[d(c,{label:"管理员账户",prop:"userName"},{default:o((()=>[d(f,{modelValue:b.value.userName,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value.userName=e),placeholder:"请输入管理员账号"},null,8,["modelValue"])])),_:1}),d(c,{label:"管理员密码",prop:"password"},{default:o((()=>[d(f,{modelValue:b.value.userName,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value.userName=e),placeholder:"请输入管理员密码"},null,8,["modelValue"])])),_:1}),d(c,{label:"管理员身份",prop:"roleId"},{default:o((()=>[d(k,{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value=e),class:"m-2",placeholder:"Select",size:"large"},{default:o((()=>[(u(!0),s(r,null,p(n(_),(e=>(u(),m(y,{key:e.id,label:e.roleName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(c,{label:"管理员手机号",prop:"phoneNumber"},{default:o((()=>[d(f,{modelValue:b.value.userName,"onUpdate:modelValue":a[3]||(a[3]=e=>b.value.userName=e),placeholder:"请输入管理员手机号"},null,8,["modelValue"])])),_:1}),d(c,{label:"状态",prop:"status"},{default:o((()=>[d(j,{modelValue:b.value.status,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value.status=e),class:"ml-2"},null,8,["modelValue"])])),_:1}),d(c,null,{default:o((()=>["add"===e.status?(u(),s(r,{key:0},[d(x,{type:"primary"},{default:o((()=>[N])),_:1}),d(x,null,{default:o((()=>[w])),_:1})],64)):i("",!0),"edit"===e.status?(u(),s(r,{key:1},[d(x,{type:"primary"},{default:o((()=>[U])),_:1}),d(x,{onClick:V},{default:o((()=>[g])),_:1})],64)):i("",!0)])),_:1})])),_:1},8,["model"])])}}}),j={class:"flex mb-20"},x=f("查询"),L=f("添加管理员"),T=f("编辑"),z=e({__name:"user",setup(e){const p=c(["开启","关闭"]);c(["是","否"]);const m=l(""),i=l([]),h=l(!1),N=l([]),w=()=>{V(m.value).then((e=>{i.value=e.data.userList}))};return a((()=>{V(void 0).then((e=>{i.value=e.data.userList})),y(void 0).then((e=>{N.value=e.data}))})),(e,l)=>{const a=t("el-input"),c=t("el-button"),V=t("el-table-column"),y=t("el-tag"),U=t("el-table"),g=t("el-dialog");return u(),s(r,null,[b("div",j,[d(a,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),placeholder:"请输入用户名称",clearable:"",class:"w-300"},null,8,["modelValue"]),d(c,{class:"ml-10",type:"primary",plain:"",onClick:w},{default:o((()=>[x])),_:1})]),d(c,{type:"primary",class:"mb-20",onClick:l[1]||(l[1]=e=>h.value=!0)},{default:o((()=>[L])),_:1}),d(U,{data:i.value,border:"",style:{width:"100%"}},{default:o((()=>[d(V,{prop:"id",label:"用户编号"}),d(V,{prop:"userName",label:"用户昵称"}),d(V,{prop:"roleName",label:"用户身份"}),d(V,{prop:"status",label:"状态"},{default:o((e=>[d(y,{type:0==e.row.status?"success":"danger"},{default:o((()=>[f(v(p[e.row.status]),1)])),_:2},1032,["type"])])),_:1}),d(V,{prop:"createTime",label:"创建时间"},{default:o((e=>[f(v(n(_)(e.row.createTime)),1)])),_:1}),d(V,{prop:"updateTime",label:"更新时间"},{default:o((e=>[f(v(n(_)(e.row.updateTime)),1)])),_:1}),d(V,{prop:"edit",label:"编辑"},{default:o((()=>[d(c,{link:"",type:"primary",size:"small"},{default:o((()=>[T])),_:1})])),_:1})])),_:1},8,["data"]),d(g,{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=e=>h.value=e),title:"新增管理员",width:"40%"},{default:o((()=>[d(k,{status:"add",roleList:N.value},null,8,["roleList"])])),_:1},8,["modelValue"])],64)}}});export{z as default};

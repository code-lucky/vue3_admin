import{l as e}from"./user-66133275.js";import{_ as a,d as s,u as l,r as o,a as r,o as t,b as d,c as n,e as u,n as i,f as c,w as p,g as m,h as f,i as v,j as w,k as y,E as _}from"./index-461a9339.js";const h={class:"continer"},g={class:"content"},k=w("登陆");var b=a(s({__name:"index",setup(a){const s=l(),w=o(),b=y(),x=o(!0),V=r({userName:"",password:""}),E=r({userName:[{validator:(e,a,s)=>{if(""===a)s(new Error("用户名不能为空"));else{if(""!==V.userName){if(!w.value)return;w.value.validateField("checkPass",(()=>null))}s()}},trigger:"blur"}],password:[{validator:(e,a,s)=>{""===a?s(new Error("请输入密码")):a.length<6?s(new Error("密码不能小于6位")):s()},trigger:"blur"}]}),N=o("password"),j=()=>{N.value="password"===N.value?"text":"password"},C=a=>{a&&a.validate((a=>{if(!a)return!1;e(V).then((e=>{const a=e;200==a.code?(s.setUserInfo(a.data),_.success(a.message),b.push({path:"/"})):_.error(a.message)}))}))},U=e=>{13==e.keyCode&&C(w.value)};return t((()=>{window.addEventListener("keydown",U),document.body.clientWidth<500&&(x.value=!1),window.onresize=()=>{document.body.clientWidth<500?x.value=!1:x.value=!0}})),d((()=>{window.removeEventListener("keydown",U,!1)})),(e,a)=>{const s=m("el-input"),l=m("el-form-item"),o=m("Hide"),r=m("View"),t=m("el-icon"),d=m("el-button"),y=m("el-form");return f(),n("div",h,[u("div",g,[u("div",{class:i(["login-title",[x.value?"isPc":"isMobile"]])},"登录",2),c(y,{ref_key:"ruleFormRef",ref:w,model:V,rules:E,class:"content-form"},{default:p((()=>[c(l,{prop:"userName"},{default:p((()=>[c(s,{modelValue:V.userName,"onUpdate:modelValue":a[0]||(a[0]=e=>V.userName=e),type:"text",placeholder:"请输入用户名",autocomplete:"off"},null,8,["modelValue"])])),_:1}),c(l,{prop:"password",style:{"margin-top":"40px",position:"relative"}},{default:p((()=>[c(s,{modelValue:V.password,"onUpdate:modelValue":a[1]||(a[1]=e=>V.password=e),type:N.value,autocomplete:"off",placeholder:"请输入密码",maxlength:"60"},null,8,["modelValue","type"]),c(t,{size:18,class:"check_password",onClick:j},{default:p((()=>["password"==N.value?(f(),v(o,{key:0})):(f(),v(r,{key:1}))])),_:1})])),_:1}),c(l,null,{default:p((()=>[c(d,{type:"primary",onClick:a[2]||(a[2]=e=>C(w.value)),class:"content-btn"},{default:p((()=>[k])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-5c5a35fe"]]);export{b as default};

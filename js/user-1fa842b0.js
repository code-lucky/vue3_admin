import{d as e,r as l,o as a,g as t,h as u,c as s,f as d,w as o,F as r,q as p,i as m,A as n,z as i,j as c,a as f,e as v,y as b}from"./index-e471099d.js";import{f as _}from"./index-4742ef83.js";import{g as V}from"./user-c37c5402.js";import{g as y}from"./role-f2cf52dc.js";const h={class:"continer"},N=c("新增"),w=c("取消"),U=c("更新"),g=c("取消"),j=e({__name:"user-module",props:{status:{type:String,default:""},roleList:{type:Object,default:[]},userInfo:{type:Object,default:{}}},emits:["addUser","cancel","editUser"],setup(e,{emit:c}){const f=e,v=l({userName:"",password:"",roleId:"",phoneNumber:"",status:!0}),b=l(""),_=f.roleList,V=()=>{c("cancel")};return a((()=>{})),(l,a)=>{const c=t("el-input"),f=t("el-form-item"),y=t("el-option"),j=t("el-select"),k=t("el-switch"),L=t("el-button"),x=t("el-form");return u(),s("div",h,[d(x,{model:v.value,"label-width":"120px"},{default:o((()=>[d(f,{label:"管理员账户",prop:"userName"},{default:o((()=>[d(c,{modelValue:v.value.userName,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value.userName=e),placeholder:"请输入管理员账号"},null,8,["modelValue"])])),_:1}),d(f,{label:"管理员密码",prop:"password"},{default:o((()=>[d(c,{modelValue:v.value.userName,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.userName=e),placeholder:"请输入管理员密码"},null,8,["modelValue"])])),_:1}),d(f,{label:"管理员身份",prop:"roleId"},{default:o((()=>[d(j,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value=e),class:"m-2",placeholder:"Select",size:"large"},{default:o((()=>[(u(!0),s(r,null,p(n(_),(e=>(u(),m(y,{key:e.id,label:e.roleName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),d(f,{label:"管理员手机号",prop:"phoneNumber"},{default:o((()=>[d(c,{modelValue:v.value.userName,"onUpdate:modelValue":a[3]||(a[3]=e=>v.value.userName=e),placeholder:"请输入管理员手机号"},null,8,["modelValue"])])),_:1}),d(f,{label:"状态",prop:"status"},{default:o((()=>[d(k,{modelValue:v.value.status,"onUpdate:modelValue":a[4]||(a[4]=e=>v.value.status=e),class:"ml-2"},null,8,["modelValue"])])),_:1}),d(f,null,{default:o((()=>["add"===e.status?(u(),s(r,{key:0},[d(L,{type:"primary"},{default:o((()=>[N])),_:1}),d(L,null,{default:o((()=>[w])),_:1})],64)):i("",!0),"edit"===e.status?(u(),s(r,{key:1},[d(L,{type:"primary"},{default:o((()=>[U])),_:1}),d(L,{onClick:V},{default:o((()=>[g])),_:1})],64)):i("",!0)])),_:1})])),_:1},8,["model"])])}}}),k={class:"app-container"},L={class:"flex mb-20"},x=c("查询"),T=c("添加管理员"),z=c("编辑"),C=e({__name:"user",setup(e){const r=f(["开启","关闭"]);f(["是","否"]);const p=l(""),m=l([]),i=l(!1),h=l([]),N=()=>{V(p.value).then((e=>{m.value=e.data.userList}))};return a((()=>{V(void 0).then((e=>{m.value=e.data.userList})),y(void 0).then((e=>{h.value=e.data}))})),(e,l)=>{const a=t("el-input"),f=t("el-button"),V=t("el-table-column"),y=t("el-tag"),w=t("el-table"),U=t("el-dialog");return u(),s("div",k,[v("div",L,[d(a,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e),placeholder:"请输入用户名称",clearable:"",class:"w-300"},null,8,["modelValue"]),d(f,{class:"ml-10",type:"primary",plain:"",onClick:N},{default:o((()=>[x])),_:1})]),d(f,{type:"primary",class:"mb-20",onClick:l[1]||(l[1]=e=>i.value=!0)},{default:o((()=>[T])),_:1}),d(w,{data:m.value,border:"",style:{width:"100%"}},{default:o((()=>[d(V,{prop:"id",label:"用户编号"}),d(V,{prop:"userName",label:"用户昵称"}),d(V,{prop:"roleName",label:"用户身份"}),d(V,{prop:"status",label:"状态"},{default:o((e=>[d(y,{type:0==e.row.status?"success":"danger"},{default:o((()=>[c(b(r[e.row.status]),1)])),_:2},1032,["type"])])),_:1}),d(V,{prop:"createTime",label:"创建时间"},{default:o((e=>[c(b(n(_)(e.row.createTime)),1)])),_:1}),d(V,{prop:"updateTime",label:"更新时间"},{default:o((e=>[c(b(n(_)(e.row.updateTime)),1)])),_:1}),d(V,{prop:"edit",label:"编辑"},{default:o((()=>[d(f,{link:"",type:"primary",size:"small"},{default:o((()=>[z])),_:1})])),_:1})])),_:1},8,["data"]),d(U,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e),title:"新增管理员",width:"40%"},{default:o((()=>[d(j,{status:"add",roleList:h.value},null,8,["roleList"])])),_:1},8,["modelValue"])])}}});export{C as default};
